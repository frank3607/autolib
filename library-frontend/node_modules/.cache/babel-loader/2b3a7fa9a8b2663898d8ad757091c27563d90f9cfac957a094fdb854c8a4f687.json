{"ast":null,"code":"import React from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{AuthProvider,AuthContext}from'./context/AuthContext';import Navbar from'./components/ui/Navbar';import Footer from'./components/ui/Footer';import Login from'./components/auth/Login';import Register from'./components/auth/Register';import BookList from'./components/books/BookList';import BookDetails from'./components/books/BookDetails';import Profile from'./components/profile/ProfileHeader';import AdminDashboard from'./components/admin/AdminDashboard';import UserList from'./components/admin/UserList';import BorrowingHistory from'./components/admin/BorrowingHistory';import AddBook from'./components/admin/AddBook';import{ToastContainer}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PrivateRoute=_ref=>{let{children}=_ref;const{auth}=React.useContext(AuthContext);if(auth.loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:\"Loading...\"});}return auth.isAuthenticated?children:/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});};const AdminRoute=_ref2=>{let{children}=_ref2;const{auth}=React.useContext(AuthContext);if(auth.loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:\"Loading...\"});}if(!auth.isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}return auth.user.role==='admin'?children:/*#__PURE__*/_jsx(Navigate,{to:\"/\"});};function App(){return/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col min-h-screen\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-grow\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(BookList,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/books/:id\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(BookDetails,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(Profile,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(AdminDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/users\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(UserList,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/borrowing-history\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(BorrowingHistory,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/add-book\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(AddBook,{})})})]})}),/*#__PURE__*/_jsx(Footer,{})]}),/*#__PURE__*/_jsx(ToastContainer,{position:\"top-right\",autoClose:3000})]})});}export default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Navigate","AuthProvider","AuthContext","Navbar","Footer","Login","Register","BookList","BookDetails","Profile","AdminDashboard","UserList","BorrowingHistory","AddBook","ToastContainer","jsx","_jsx","jsxs","_jsxs","PrivateRoute","_ref","children","auth","useContext","loading","className","isAuthenticated","to","AdminRoute","_ref2","user","role","App","path","element","position","autoClose"],"sources":["C:/Users/frank/OneDrive/Desktop/mini-library/library-frontend/src/App.js"],"sourcesContent":["import React from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { AuthProvider, AuthContext } from './context/AuthContext';\nimport Navbar from './components/ui/Navbar';\nimport Footer from './components/ui/Footer';\nimport Login from './components/auth/Login';\nimport Register from './components/auth/Register';\nimport BookList from './components/books/BookList';\nimport BookDetails from './components/books/BookDetails';\nimport Profile from './components/profile/ProfileHeader';\nimport AdminDashboard from './components/admin/AdminDashboard';\nimport UserList from './components/admin/UserList';\nimport BorrowingHistory from './components/admin/BorrowingHistory';\nimport AddBook from './components/admin/AddBook';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst PrivateRoute = ({ children }) => {\n  const { auth } = React.useContext(AuthContext);\n  \n  if (auth.loading) {\n    return <div className=\"min-h-screen flex items-center justify-center\">Loading...</div>;\n  }\n  \n  return auth.isAuthenticated ? children : <Navigate to=\"/login\" />;\n};\n\nconst AdminRoute = ({ children }) => {\n  const { auth } = React.useContext(AuthContext);\n  \n  if (auth.loading) {\n    return <div className=\"min-h-screen flex items-center justify-center\">Loading...</div>;\n  }\n  \n  if (!auth.isAuthenticated) {\n    return <Navigate to=\"/login\" />;\n  }\n  \n  return auth.user.role === 'admin' ? children : <Navigate to=\"/\" />;\n};\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <Router>\n        <div className=\"flex flex-col min-h-screen\">\n          <Navbar />\n          <main className=\"flex-grow\">\n            <Routes>\n              <Route path=\"/login\" element={<Login />} />\n              <Route path=\"/register\" element={<Register />} />\n              \n              <Route path=\"/\" element={\n                <PrivateRoute>\n                  <BookList />\n                </PrivateRoute>\n              } />\n              \n              <Route path=\"/books/:id\" element={\n                <PrivateRoute>\n                  <BookDetails />\n                </PrivateRoute>\n              } />\n              \n              <Route path=\"/profile\" element={\n                <PrivateRoute>\n                  <Profile />\n                </PrivateRoute>\n              } />\n              \n              <Route path=\"/admin\" element={\n                <AdminRoute>\n                  <AdminDashboard />\n                </AdminRoute>\n              } />\n              \n              <Route path=\"/admin/users\" element={\n                <AdminRoute>\n                  <UserList />\n                </AdminRoute>\n              } />\n              \n              <Route path=\"/admin/borrowing-history\" element={\n                <AdminRoute>\n                  <BorrowingHistory />\n                </AdminRoute>\n              } />\n              \n              <Route path=\"/admin/add-book\" element={\n                <AdminRoute>\n                  <AddBook />\n                </AdminRoute>\n              } />\n            </Routes>\n          </main>\n          <Footer />\n        </div>\n        <ToastContainer position=\"top-right\" autoClose={3000} />\n      </Router>\n    </AuthProvider>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}