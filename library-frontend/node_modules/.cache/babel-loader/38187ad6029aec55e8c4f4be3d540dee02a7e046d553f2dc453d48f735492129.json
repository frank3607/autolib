{"ast":null,"code":"import React,{useContext,useState,useEffect}from'react';import{Link,useLocation}from'react-router-dom';import{AuthContext}from'../../context/AuthContext';import{FiBook,FiUser,FiLogOut,FiMenu,FiX}from'react-icons/fi';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Navbar=()=>{var _auth$user,_auth$user2,_auth$user3;const{auth,logout}=useContext(AuthContext);const location=useLocation();const[scrolled,setScrolled]=useState(false);const[menuOpen,setMenuOpen]=useState(false);// Detect scroll for shadow\nuseEffect(()=>{const handleScroll=()=>{setScrolled(window.scrollY>10);};window.addEventListener('scroll',handleScroll);return()=>window.removeEventListener('scroll',handleScroll);},[]);const isActive=path=>location.pathname===path;const NavLink=_ref=>{let{to,children,mobile}=_ref;return/*#__PURE__*/_jsx(Link,{to:to,onClick:()=>setMenuOpen(false),className:\"relative px-3 py-2 rounded-md text-sm font-medium text-white transition\\n        after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-white after:transition-all after:duration-300 after:ease-in-out after:origin-left\\n        after:scale-x-0 hover:after:scale-x-100\\n        \".concat(isActive(to)?'bg-indigo-700 after:scale-x-100':'hover:bg-gray-800',\"\\n        \").concat(mobile?'block w-full text-left':''),children:children});};const menuLinks=[{path:'/',label:'Books'},...(auth.isAuthenticated?[{path:'/profile',label:'My Profile'}]:[]),...(auth.isAuthenticated&&((_auth$user=auth.user)===null||_auth$user===void 0?void 0:_auth$user.role)==='admin'?[{path:'/admin',label:'Admin Dashboard'}]:[])];const authLinks=auth.isAuthenticated?[]:[{path:'/login',label:'Login'},{path:'/register',label:'Register'}];return/*#__PURE__*/_jsx(\"nav\",{className:\"fixed w-full z-50 transition-all duration-500 \".concat(scrolled?'bg-gray-900 shadow-lg':'bg-gray-900'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between h-16\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"flex items-center hover:opacity-90 transition\",children:[/*#__PURE__*/_jsx(FiBook,{className:\"h-8 w-8 mr-2 text-white\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-xl text-white\",children:\"Racing Books\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden md:flex items-center space-x-6\",children:menuLinks.map(item=>/*#__PURE__*/_jsx(NavLink,{to:item.path,children:item.label},item.path))}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden md:flex items-center\",children:auth.isAuthenticated?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center bg-indigo-700 px-3 py-1 rounded-full hover:bg-indigo-600 transition\",children:[(_auth$user2=auth.user)!==null&&_auth$user2!==void 0&&_auth$user2.profilePhoto?/*#__PURE__*/_jsx(\"img\",{src:auth.user.profilePhoto,alt:auth.user.name,className:\"w-8 h-8 rounded-full mr-2 border border-white\"}):/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-800 border border-gray-600 rounded-full w-8 h-8 flex items-center justify-center text-gray-300 mr-2\",children:/*#__PURE__*/_jsx(FiUser,{})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:(_auth$user3=auth.user)===null||_auth$user3===void 0?void 0:_auth$user3.name})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:logout,className:\"flex items-center text-sm font-medium text-white hover:text-gray-300 transition\",children:[/*#__PURE__*/_jsx(FiLogOut,{className:\"mr-1\"}),\" Logout\"]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-3\",children:authLinks.map(link=>/*#__PURE__*/_jsx(Link,{to:link.path,className:\"px-4 py-2 rounded-md text-sm font-medium text-white hover:bg-gray-800 transition\",children:link.label},link.path))})}),/*#__PURE__*/_jsx(\"div\",{className:\"md:hidden\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setMenuOpen(!menuOpen),className:\"text-white focus:outline-none\",children:menuOpen?/*#__PURE__*/_jsx(FiX,{size:24}):/*#__PURE__*/_jsx(FiMenu,{size:24})})})]}),menuOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"md:hidden flex flex-col space-y-2 mt-2 pb-4 border-t border-gray-700\",children:[[...menuLinks,...authLinks].map((item,index)=>/*#__PURE__*/_jsx(\"div\",{style:{animationDelay:\"\".concat(index*0.1,\"s\")},className:\"animate-slideFadeDown\",children:/*#__PURE__*/_jsx(NavLink,{to:item.path,mobile:true,children:item.label})},item.path)),auth.isAuthenticated&&/*#__PURE__*/_jsx(\"div\",{style:{animationDelay:\"\".concat(menuLinks.length*0.1,\"s\")},className:\"animate-slideFadeDown\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:logout,className:\"flex items-center space-x-2 text-left px-3 py-2 text-sm text-white hover:bg-gray-800 transition w-full\",children:[/*#__PURE__*/_jsx(FiLogOut,{}),\" \",/*#__PURE__*/_jsx(\"span\",{children:\"Logout\"})]})})]})]})});};export default Navbar;","map":{"version":3,"names":["React","useContext","useState","useEffect","Link","useLocation","AuthContext","FiBook","FiUser","FiLogOut","FiMenu","FiX","jsx","_jsx","jsxs","_jsxs","Navbar","_auth$user","_auth$user2","_auth$user3","auth","logout","location","scrolled","setScrolled","menuOpen","setMenuOpen","handleScroll","window","scrollY","addEventListener","removeEventListener","isActive","path","pathname","NavLink","_ref","to","children","mobile","onClick","className","concat","menuLinks","label","isAuthenticated","user","role","authLinks","map","item","profilePhoto","src","alt","name","link","size","index","style","animationDelay","length"],"sources":["C:/Users/frank/OneDrive/Desktop/mini-library/library-frontend/src/components/ui/Navbar.js"],"sourcesContent":[" import React, { useContext, useState, useEffect } from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport { FiBook, FiUser, FiLogOut, FiMenu, FiX } from 'react-icons/fi';\r\n\r\nconst Navbar = () => {\r\n  const { auth, logout } = useContext(AuthContext);\r\n  const location = useLocation();\r\n  const [scrolled, setScrolled] = useState(false);\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n\r\n  // Detect scroll for shadow\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      setScrolled(window.scrollY > 10);\r\n    };\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, []);\r\n\r\n  const isActive = (path) => location.pathname === path;\r\n\r\n  const NavLink = ({ to, children, mobile }) => (\r\n    <Link\r\n      to={to}\r\n      onClick={() => setMenuOpen(false)}\r\n      className={`relative px-3 py-2 rounded-md text-sm font-medium text-white transition\r\n        after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-white after:transition-all after:duration-300 after:ease-in-out after:origin-left\r\n        after:scale-x-0 hover:after:scale-x-100\r\n        ${isActive(to) ? 'bg-indigo-700 after:scale-x-100' : 'hover:bg-gray-800'}\r\n        ${mobile ? 'block w-full text-left' : ''}`}\r\n    >\r\n      {children}\r\n    </Link>\r\n  );\r\n\r\n  const menuLinks = [\r\n    { path: '/', label: 'Books' },\r\n    ...(auth.isAuthenticated ? [{ path: '/profile', label: 'My Profile' }] : []),\r\n    ...(auth.isAuthenticated && auth.user?.role === 'admin'\r\n      ? [{ path: '/admin', label: 'Admin Dashboard' }]\r\n      : []),\r\n  ];\r\n\r\n  const authLinks = auth.isAuthenticated\r\n    ? []\r\n    : [\r\n        { path: '/login', label: 'Login' },\r\n        { path: '/register', label: 'Register' },\r\n      ];\r\n\r\n  return (\r\n    <nav\r\n      className={`fixed w-full z-50 transition-all duration-500 ${\r\n        scrolled ? 'bg-gray-900 shadow-lg' : 'bg-gray-900'\r\n      }`}\r\n    >\r\n      <div className=\"container mx-auto px-4\">\r\n        <div className=\"flex items-center justify-between h-16\">\r\n          {/* Logo */}\r\n          <Link to=\"/\" className=\"flex items-center hover:opacity-90 transition\">\r\n            <FiBook className=\"h-8 w-8 mr-2 text-white\" />\r\n            <span className=\"font-bold text-xl text-white\">Racing Books</span>\r\n          </Link>\r\n\r\n          {/* Desktop Menu */}\r\n          <div className=\"hidden md:flex items-center space-x-6\">\r\n            {menuLinks.map((item) => (\r\n              <NavLink key={item.path} to={item.path}>\r\n                {item.label}\r\n              </NavLink>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Right Side Auth */}\r\n          <div className=\"hidden md:flex items-center\">\r\n            {auth.isAuthenticated ? (\r\n              <div className=\"flex items-center space-x-4\">\r\n                {/* Profile */}\r\n                <div className=\"flex items-center bg-indigo-700 px-3 py-1 rounded-full hover:bg-indigo-600 transition\">\r\n                  {auth.user?.profilePhoto ? (\r\n                    <img\r\n                      src={auth.user.profilePhoto}\r\n                      alt={auth.user.name}\r\n                      className=\"w-8 h-8 rounded-full mr-2 border border-white\"\r\n                    />\r\n                  ) : (\r\n                    <div className=\"bg-gray-800 border border-gray-600 rounded-full w-8 h-8 flex items-center justify-center text-gray-300 mr-2\">\r\n                      <FiUser />\r\n                    </div>\r\n                  )}\r\n                  <span className=\"text-white\">{auth.user?.name}</span>\r\n                </div>\r\n\r\n                {/* Logout */}\r\n                <button\r\n                  onClick={logout}\r\n                  className=\"flex items-center text-sm font-medium text-white hover:text-gray-300 transition\"\r\n                >\r\n                  <FiLogOut className=\"mr-1\" /> Logout\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              <div className=\"flex items-center space-x-3\">\r\n                {authLinks.map((link) => (\r\n                  <Link\r\n                    key={link.path}\r\n                    to={link.path}\r\n                    className=\"px-4 py-2 rounded-md text-sm font-medium text-white hover:bg-gray-800 transition\"\r\n                  >\r\n                    {link.label}\r\n                  </Link>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Mobile Menu Toggle */}\r\n          <div className=\"md:hidden\">\r\n            <button\r\n              onClick={() => setMenuOpen(!menuOpen)}\r\n              className=\"text-white focus:outline-none\"\r\n            >\r\n              {menuOpen ? <FiX size={24} /> : <FiMenu size={24} />}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Mobile Dropdown */}\r\n        {menuOpen && (\r\n          <div className=\"md:hidden flex flex-col space-y-2 mt-2 pb-4 border-t border-gray-700\">\r\n            {[...menuLinks, ...authLinks].map((item, index) => (\r\n              <div\r\n                key={item.path}\r\n                style={{ animationDelay: `${index * 0.1}s` }}\r\n                className=\"animate-slideFadeDown\"\r\n              >\r\n                <NavLink to={item.path} mobile>\r\n                  {item.label}\r\n                </NavLink>\r\n              </div>\r\n            ))}\r\n\r\n            {auth.isAuthenticated && (\r\n              <div\r\n                style={{ animationDelay: `${menuLinks.length * 0.1}s` }}\r\n                className=\"animate-slideFadeDown\"\r\n              >\r\n                <button\r\n                  onClick={logout}\r\n                  className=\"flex items-center space-x-2 text-left px-3 py-2 text-sm text-white hover:bg-gray-800 transition w-full\"\r\n                >\r\n                  <FiLogOut /> <span>Logout</span>\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}