{"ast":null,"code":"// frontend/src/services/bookService.js\nimport axios from 'axios';\nconst API_URL = '/api/books';\nconst getBooks = async params => {\n  const {\n    data\n  } = await axios.get(API_URL, {\n    params\n  });\n  return data;\n};\nconst getBookById = async (bookId, token) => {\n  const config = token ? {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  } : {};\n  const {\n    data\n  } = await axios.get(`${API_URL}/${bookId}`, config);\n  return data;\n};\nconst issueBook = async (bookId, token) => {\n  const {\n    data\n  } = await axios.put(`${API_URL}/${bookId}/issue`, {}, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return data;\n};\nconst returnBook = async (bookId, token) => {\n  const {\n    data\n  } = await axios.put(`${API_URL}/${bookId}/return`, {}, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return data;\n};\nconst rateBook = async (bookId, rating, token) => {\n  const {\n    data\n  } = await axios.post(`${API_URL}/${bookId}/rate`, {\n    rating\n  }, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return data;\n};\n\n// ✅ FIXED: correct path and field name\nconst addBook = async (formData, token) => {\n  const {\n    data\n  } = await axios.post(API_URL, formData, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'multipart/form-data'\n    }\n  });\n  return data;\n};\nconst updateBook = async (bookId, formData, token) => {\n  const {\n    data\n  } = await axios.put(`${API_URL}/${bookId}`, formData, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'multipart/form-data'\n    }\n  });\n  return data;\n};\nconst deleteBook = async (bookId, token) => {\n  const {\n    data\n  } = await axios.delete(`${API_URL}/${bookId}`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return data;\n};\nexport default {\n  getBooks,\n  getBookById,\n  issueBook,\n  returnBook,\n  rateBook,\n  addBook,\n  updateBook,\n  deleteBook\n};","map":{"version":3,"names":["axios","API_URL","getBooks","params","data","get","getBookById","bookId","token","config","headers","Authorization","issueBook","put","returnBook","rateBook","rating","post","addBook","formData","updateBook","deleteBook","delete"],"sources":["C:/Users/frank/OneDrive/Desktop/mini-library/library-frontend/src/services/bookService.js"],"sourcesContent":[" // frontend/src/services/bookService.js\r\nimport axios from 'axios';\r\n\r\nconst API_URL = '/api/books';\r\n\r\nconst getBooks = async (params) => {\r\n  const { data } = await axios.get(API_URL, { params });\r\n  return data;\r\n};\r\n\r\nconst getBookById = async (bookId, token) => {\r\n  const config = token ? { headers: { Authorization: `Bearer ${token}` } } : {};\r\n  const { data } = await axios.get(`${API_URL}/${bookId}`, config);\r\n  return data;\r\n};\r\n\r\nconst issueBook = async (bookId, token) => {\r\n  const { data } = await axios.put(`${API_URL}/${bookId}/issue`, {}, {\r\n    headers: { Authorization: `Bearer ${token}` }\r\n  });\r\n  return data;\r\n};\r\n\r\nconst returnBook = async (bookId, token) => {\r\n  const { data } = await axios.put(`${API_URL}/${bookId}/return`, {}, {\r\n    headers: { Authorization: `Bearer ${token}` }\r\n  });\r\n  return data;\r\n};\r\n\r\nconst rateBook = async (bookId, rating, token) => {\r\n  const { data } = await axios.post(`${API_URL}/${bookId}/rate`, { rating }, {\r\n    headers: { Authorization: `Bearer ${token}` }\r\n  });\r\n  return data;\r\n};\r\n\r\n// ✅ FIXED: correct path and field name\r\nconst addBook = async (formData, token) => {\r\n  const { data } = await axios.post(API_URL, formData, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'multipart/form-data'\r\n    }\r\n  });\r\n  return data;\r\n};\r\n\r\nconst updateBook = async (bookId, formData, token) => {\r\n  const { data } = await axios.put(`${API_URL}/${bookId}`, formData, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'multipart/form-data'\r\n    }\r\n  });\r\n  return data;\r\n};\r\n\r\nconst deleteBook = async (bookId, token) => {\r\n  const { data } = await axios.delete(`${API_URL}/${bookId}`, {\r\n    headers: { Authorization: `Bearer ${token}` }\r\n  });\r\n  return data;\r\n};\r\n\r\nexport default {\r\n  getBooks,\r\n  getBookById,\r\n  issueBook,\r\n  returnBook,\r\n  rateBook,\r\n  addBook,\r\n  updateBook,\r\n  deleteBook\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}