{"ast":null,"code":"// frontend/src/services/bookService.js\nimport axios from'axios';const API_URL='/api/books';const getBooks=async params=>{const{data}=await axios.get(API_URL,{params});return data;};const getBookById=async(bookId,token)=>{const config=token?{headers:{Authorization:\"Bearer \".concat(token)}}:{};const{data}=await axios.get(\"\".concat(API_URL,\"/\").concat(bookId),config);return data;};const issueBook=async(bookId,token)=>{const{data}=await axios.put(\"\".concat(API_URL,\"/\").concat(bookId,\"/issue\"),{},{headers:{Authorization:\"Bearer \".concat(token)}});return data;};const returnBook=async(bookId,token)=>{const{data}=await axios.put(\"\".concat(API_URL,\"/\").concat(bookId,\"/return\"),{},{headers:{Authorization:\"Bearer \".concat(token)}});return data;};const rateBook=async(bookId,rating,token)=>{const{data}=await axios.post(\"\".concat(API_URL,\"/\").concat(bookId,\"/rate\"),{rating},{headers:{Authorization:\"Bearer \".concat(token)}});return data;};// ✅ FIXED: correct path and field name\nconst addBook=async(formData,token)=>{const{data}=await axios.post(API_URL,formData,{headers:{Authorization:\"Bearer \".concat(token),'Content-Type':'multipart/form-data'}});return data;};const updateBook=async(bookId,formData,token)=>{const{data}=await axios.put(\"\".concat(API_URL,\"/\").concat(bookId),formData,{headers:{Authorization:\"Bearer \".concat(token),'Content-Type':'multipart/form-data'}});return data;};const deleteBook=async(bookId,token)=>{const{data}=await axios.delete(\"\".concat(API_URL,\"/\").concat(bookId),{headers:{Authorization:\"Bearer \".concat(token)}});return data;};export default{getBooks,getBookById,issueBook,returnBook,rateBook,addBook,updateBook,deleteBook};","map":{"version":3,"names":["axios","API_URL","getBooks","params","data","get","getBookById","bookId","token","config","headers","Authorization","concat","issueBook","put","returnBook","rateBook","rating","post","addBook","formData","updateBook","deleteBook","delete"],"sources":["C:/Users/frank/OneDrive/Desktop/mini-library/library-frontend/src/services/bookService.js"],"sourcesContent":[" // frontend/src/services/bookService.js\r\nimport axios from 'axios';\r\n\r\nconst API_URL = '/api/books';\r\n\r\nconst getBooks = async (params) => {\r\n  const { data } = await axios.get(API_URL, { params });\r\n  return data;\r\n};\r\n\r\nconst getBookById = async (bookId, token) => {\r\n  const config = token ? { headers: { Authorization: `Bearer ${token}` } } : {};\r\n  const { data } = await axios.get(`${API_URL}/${bookId}`, config);\r\n  return data;\r\n};\r\n\r\nconst issueBook = async (bookId, token) => {\r\n  const { data } = await axios.put(`${API_URL}/${bookId}/issue`, {}, {\r\n    headers: { Authorization: `Bearer ${token}` }\r\n  });\r\n  return data;\r\n};\r\n\r\nconst returnBook = async (bookId, token) => {\r\n  const { data } = await axios.put(`${API_URL}/${bookId}/return`, {}, {\r\n    headers: { Authorization: `Bearer ${token}` }\r\n  });\r\n  return data;\r\n};\r\n\r\nconst rateBook = async (bookId, rating, token) => {\r\n  const { data } = await axios.post(`${API_URL}/${bookId}/rate`, { rating }, {\r\n    headers: { Authorization: `Bearer ${token}` }\r\n  });\r\n  return data;\r\n};\r\n\r\n// ✅ FIXED: correct path and field name\r\nconst addBook = async (formData, token) => {\r\n  const { data } = await axios.post(API_URL, formData, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'multipart/form-data'\r\n    }\r\n  });\r\n  return data;\r\n};\r\n\r\nconst updateBook = async (bookId, formData, token) => {\r\n  const { data } = await axios.put(`${API_URL}/${bookId}`, formData, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'multipart/form-data'\r\n    }\r\n  });\r\n  return data;\r\n};\r\n\r\nconst deleteBook = async (bookId, token) => {\r\n  const { data } = await axios.delete(`${API_URL}/${bookId}`, {\r\n    headers: { Authorization: `Bearer ${token}` }\r\n  });\r\n  return data;\r\n};\r\n\r\nexport default {\r\n  getBooks,\r\n  getBookById,\r\n  issueBook,\r\n  returnBook,\r\n  rateBook,\r\n  addBook,\r\n  updateBook,\r\n  deleteBook\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}